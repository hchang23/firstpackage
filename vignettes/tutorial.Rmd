---
title: "Project 3: firstpackage Tutorial"
author: "Hannah Chang"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{firstpackage Tutorial}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Introduction

This package is written for statistical inference and prediction, and includes 
the functions `my_t_test`, `my_lm`, `my_knn_cv`, and `my_rf_cv`.

To install and load this package:

```{r, eval=FALSE}
# install firstpackage
devtools::install_github("hchang23/firstpackage")

# load firstpackage
library(firstpackage)
```

# Tutorial: my_t_test

The t-tests below will be using the `lifeExp` variable from `my_gapminder` and
interpreting the results with $\alpha = 0.05$.

```{r}
# load my_gapminder data
data("my_gapminder")
```

## Test 1: alternative is "two.sided"

$H_0: \mu = 60$

$H_A: \mu \neq 60$

```{r}
my_t_test(my_gapminder$lifeExp, "two.sided", 60)
```

The `p_val` from the results is 0.093, which is greater than $\alpha = 0.05$,
so I fail to reject the null hypothesis. There is not enough evidence to suggest
that the mean life expectancy is not 60 years. 

## Test 2: alternative is "less"

$H_0: \mu = 60$

$H_A: \mu < 60$

```{r}
my_t_test(my_gapminder$lifeExp, "less", 60)
```

The `p_val` from the results is 0.0466, which is less than $\alpha = 0.05$,
so I reject the null hypothesis. There is sufficient evidence to suggest that
the mean life expectancy is less than 60 years. 

## Test 3: alternative is "greater"

$H_0: \mu = 60$

$H_A: \mu > 60$

```{r}
my_t_test(my_gapminder$lifeExp, "greater", 60)
```

The `p_val` from the results is 0.95, which is greater than $\alpha = 0.05$,
so I fail to reject the null hypothesis. There is not enough evidence to suggest
that the mean life expectancy is greater than 60 years. 

# Tutorial: my_lm

The regression model below will be using `lifeExp` as the response variable and
`gdpPercap` and `continent` as the explanatory variables. The hypothesis test 
associated with the coefficient `gdpPercap`, which is the GDP per capita in USD,
is:

$H_0: \beta = 0$

$H_A: \beta \neq 0$

```{r}
test <- my_lm(lifeExp ~ gdpPercap + continent, my_gapminder)
```

From the results, the p-value for `gdpPercap` coefficient is 8.55e-73, which is 
less than $\alpha = 0.05$, so I reject the null hypothesis. There is strong
evidence that there is a relationship between `lifeExp` and `gdpPercap`. 

```{r}
# make data frame of fitted and actual values
my_coeff <- test[, 1]
my_matrix <- model.matrix(lifeExp ~ gdpPercap + continent, data = my_gapminder)
y_hat <- my_matrix %*% as.matrix(my_coeff)
my_df <- data.frame("Fitted" = y_hat, 
                    "Actual" = my_gapminder$lifeExp,
                    "Continent" = my_gapminder$continent)

# load ggplot2 to plot the fitted vs actual values
library(ggplot2)
ggplot(my_df, aes(x = Actual, y = Fitted, color = Continent)) +
  geom_point() +
  geom_abline(slope = 1, intercept = 0) +
  theme_light()
```

From the plot, the line is the model fit and the data points are the actual 
values. The line appears to fit the data points from Europe and Oceania fairly
well, but doesn't predict as well for the other continents. 

# Tutorial: my_knn_cv



# Tutorial: my_rf_cv



